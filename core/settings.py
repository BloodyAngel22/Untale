"""
Модуль настроек игры.
Содержит все константы: цвета, размеры экрана, настройки скорости и сложности.
"""

# ============================================================================
# НАСТРОЙКИ ЭКРАНА
# ============================================================================

SCREEN_WIDTH = 800
SCREEN_HEIGHT = 600
FPS = 60

# Полноэкранный режим
FULLSCREEN = True                  # Включить полноэкранный режим по умолчанию
FULLSCREEN_SCALE = True            # Масштабировать изображение вместо изменения разрешения

# Разрешение для оконного режима
WINDOW_WIDTH = 800
WINDOW_HEIGHT = 600

# ============================================================================
# ЦВЕТА (RGB)
# ============================================================================

# Основные цвета
COLOR_BLACK = (0, 0, 0)
COLOR_WHITE = (255, 255, 255)
COLOR_RED = (255, 0, 0)
COLOR_BLUE = (0, 100, 255)
COLOR_YELLOW = (255, 255, 0)
COLOR_GRAY = (100, 100, 100)
COLOR_DARK_GRAY = (50, 50, 50)
COLOR_LIGHT_GRAY = (150, 150, 150)

# Цвета игры
PLAYER_OVERWORLD_COLOR = COLOR_RED  # Красный квадрат в мире
PLAYER_BATTLE_COLOR = COLOR_RED     # Красное сердце в бою
ENEMY_COLOR = COLOR_BLUE            # Синий квадрат врага
WALL_COLOR = COLOR_GRAY             # Серые стены
BULLET_COLOR = COLOR_WHITE          # Белые снаряды
BOX_COLOR = COLOR_WHITE             # Белая рамка боя

# ============================================================================
# НАСТРОЙКИ ИГРОКА
# ============================================================================

# Размеры игрока
PLAYER_OVERWORLD_SIZE = 32          # Размер квадрата в мире
PLAYER_BATTLE_SIZE = 10             # Размер сердца в бою

# Скорость перемещения
PLAYER_OVERWORLD_SPEED = 4          # Скорость в мире
PLAYER_BATTLE_SPEED = 5             # Скорость в бою (более точное управление)

# ============================================================================
# НАСТРОЙКИ МИРА (OVERWORLD)
# ============================================================================

WALL_THICKNESS = 20                 # Толщина границ комнаты

# ============================================================================
# СИСТЕМА ТАЙЛОВ
# ============================================================================

TILE_SIZE = 32                      # Размер одного тайла в пикселях

# Типы тайлов
TILE_EMPTY = '0'                    # Пустой пол (проходимый)
TILE_WALL = '1'                     # Стена (коллизия)
TILE_TRANSITION = '2'               # Переход на другую карту
TILE_ENEMY = 'E'                    # Враг (триггер боя)

# Цвета тайлов
TILE_EMPTY_COLOR = (20, 20, 30)     # Тёмный пол
TILE_WALL_COLOR = (100, 100, 100)   # Серые стены
TILE_TRANSITION_COLOR = (50, 150, 50)  # Зелёный переход
TILE_ENEMY_COLOR = (0, 100, 255)    # Синий враг

# ============================================================================
# БОЕВОЙ ИНТЕРФЕЙС (BATTLE UI)
# ============================================================================

# Кнопки меню боя
BUTTON_FIGHT = 'FIGHT'
BUTTON_ACT = 'ACT'
BUTTON_ITEM = 'ITEM'
BUTTON_MERCY = 'MERCY'

# Цвета кнопок
BUTTON_COLOR_NORMAL = (255, 255, 255)    # Белый (не выбрана)
BUTTON_COLOR_SELECTED = (255, 255, 0)    # Жёлтый (выбрана)
BUTTON_COLOR_MERCY_SPARE = (255, 255, 0) # Жёлтый (можно пощадить)

# Размеры кнопок
BUTTON_WIDTH = 80
BUTTON_HEIGHT = 30
BUTTON_SPACING = 20

# ============================================================================
# НАСТОЙКИ ВРАГА
# ============================================================================

ENEMY_DEFAULT_HP = 50
ENEMY_DEFAULT_NAME = "Тестовый враг"

# Настройки Босса
BOSS_HP = 200                      # HP босса
BOSS_ATTACK_DAMAGE = 15            # Урон босса
BOSS_PHASE2_THRESHOLD = 0.5        # Порог HP для перехода во 2-ю фазу (50%)

# Настройки обычных мобов
MOB_HP = 60                        # HP обычного моба
MOB_ATTACK_DAMAGE = 8              # Урон обычного моба
MOB_PATTERNS_PER_ROUND = 1         # Количество атак за раунд для мобов

# Урон игрока при атаке FIGHT
PLAYER_ATTACK_DAMAGE = 25          # Базовый урон игрока при атаке FIGHT

# Время неуязвимости игрока (в кадрах)
INVULNERABILITY_TIME = 60          # 60 кадров = 1 секунда

# ============================================================================
# НАСТРОЙКИ БОЯ (BATTLE)
# ============================================================================

# Размеры рамки боя
BATTLE_BOX_WIDTH = 300
BATTLE_BOX_HEIGHT = 200

# Настройки HP
PLAYER_MAX_HP = 100
PLAYER_DAMAGE = 10
INVULNERABILITY_TIME = 60           # Кадры неуязвимости после урона

# ============================================================================
# НАСТРОЙКИ СЛОЖНОСТИ АТАК
# ============================================================================

# Базовая скорость снарядов
BULLET_BASE_SPEED = 4

# Множители сложности (можно менять для баланса)
DIFFICULTY_MULTIPLIER = 1.2         # Общий множитель сложности
BULLET_SPEED_MULT = 1.2             # Множитель скорости пуль
SPAWN_RATE_MULT = 1.2               # Множитель частоты спавна

# ============================================================================
# НАСТРОЙКИ ПАТТЕРНОВ АТАК
# ============================================================================

# Время между сменой паттернов (в кадрах, 60 кадров = 1 секунда)
PATTERN_SWITCH_TIME = 300           # 5 секунд

# Настройки новой системы раундов
PATTERNS_PER_ROUND = 3              # Количество паттернов в одном раунде
ATTACK_DURATION = 420               # Длительность одной атаки в кадрах (10 секунды)
GAP_BETWEEN_ATTACKS = 30           # Пауза между паттернами в очереди (0.5 секунды)

# Паттерн "Line Rain" - дождь из линий сверху
LINE_RAIN_INTERVAL = 24             # Кадров между спавном линий
LINE_RAIN_BULLET_COUNT = 5          # Количество линий за один спавн

# Паттерн "Circle Burst" - круговой взрыв из центра
CIRCLE_BURST_COUNT = 15             # Количество снарядов в круге
CIRCLE_BURST_INTERVAL = 90          # Кадров между взрывами

# Паттерн "Targeting" - снаряды летят к игроку
TARGETING_INTERVAL = 40             # Кадров между выстрелами
TARGETING_BULLETS_PER_SHOT = 3      # Снарядов за выстрел

# ============================================================================
# СОСТОЯНИЯ ИГРЫ
# ============================================================================

STATE_MAIN_MENU = 'MAIN_MENU'       # Главное меню
STATE_OVERWORLD = 'OVERWORLD'
STATE_BATTLE = 'BATTLE'
STATE_GAME_OVER = 'GAME_OVER'
STATE_MENU = 'MENU'                 # Меню паузы

# ============================================================================
# НАСТРОЙКИ МЕНЮ
# ============================================================================

MENU_ITEM_CONTINUE = 'Продолжить'
MENU_ITEM_FULLSCREEN = 'Полноэкранный режим'
MENU_ITEM_QUIT = 'Выход'
MENU_ITEM_LOAD_SAVE = 'Загрузить сохранение'

# ============================================================================
# НАСТРОЙКИ ГЛАВНОГО МЕНЮ
# ============================================================================

TITLE_MENU_NEW_GAME = 'NEW GAME'
TITLE_MENU_CONTINUE = 'CONTINUE'
TITLE_MENU_QUIT = 'QUIT'

# ============================================================================
# БОЕВОЙ ТАЙМИНГ (SAFETY PAUSE)
# ============================================================================

SAFETY_PAUSE_DURATION = 120         # Пауза перед атакой врага (2 секунды = 120 кадров)
SAFETY_PAUSE_MESSAGE = "Враг готовится к атаке..."
WARMUP_DURATION = 120               # Время для перемещения перед атакой (2 секунды)
WARMUP_MESSAGE = "Приготовьтесь!"

# ============================================================================
# АУДИО НАСТРОЙКИ
# ============================================================================

# Пути к музыкальным файлам
MUSIC_LOCATION_1 = "assets/music/location1.mp3"
MUSIC_LOCATION_2 = "assets/music/location2.mp3"
MUSIC_FIGHT_1 = "assets/music/fight1.mp3"
MUSIC_FIGHT_2 = "assets/music/fight2.mp3"
MUSIC_BOSS = "assets/music/boss.mp3"
MUSIC_GAME_OVER = "assets/music/game_over.mp3"

# Настройки звука
MUSIC_FADEOUT_TIME = 500    # Время затухания в миллисекундах
MUSIC_VOLUME = 0.6          # Громкость музыки (0.0 - 1.0)

# ============================================================================
# СИСТЕМА СОХРАНЕНИЙ
# ============================================================================

SAVE_FILE_NAME = "savegame.json"
AUTOSAVE_ENABLED = True

# ============================================================================
# ТОЧКИ СОХРАНЕНИЯ (SAVE POINTS)
# ============================================================================

# Тип тайла для точки сохранения
TILE_SAVEPOINT = 'S'

# Цвет точки сохранения (золотистая звезда)
SAVEPOINT_COLOR = (255, 215, 0)        # Золотой
SAVEPOINT_GLOW_COLOR = (255, 255, 150) # Светящийся жёлтый
